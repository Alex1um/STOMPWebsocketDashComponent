(()=>{"use strict";var e,n={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},d:(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r=function(){var e=document.currentScript;if(!e){for(var n=document.getElementsByTagName("script"),r=[],t=0;t<n.length;t++)r.push(n[t]);e=(r=r.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(e=r().src.split("/").slice(0,-1).join("/")+"/",function(){return e})}),"undefined"!=typeof jsonpScriptSrc){var t=jsonpScriptSrc;jsonpScriptSrc=function(e){var n,o=(n=r(),/\/_dash-component-suites\//.test(n.src)),c=t(e);if(!o)return c;var s=c.split("/"),i=s.slice(-1)[0].split(".");return i.splice(1,0,"v0_0_3m1742637233"),s.splice(-1,1,i.join(".")),s.join("/")}}var o={};n.r(o),n.d(o,{STOMPWebsocket:()=>a});const c=window.React;var s=n.n(c);const i=window.PropTypes;var u=n.n(i),l=function(e){var n=e.props,r=(n.id,n.setProps),t=n.subscribe,o=n.send,c=n.url,i=useRef(null),u=useRef(null),l=useRef("");useEffect((function(){var e=new Client({brokerURL:c,reconnectDelay:5e3,debug:function(e){return console.debug("STOMP: ".concat(e))}});return e.onConnect=function(){console.log("STOMP Connected"),t&&a(t)},e.activate(),i.current=e,function(){e.deactivate(),console.log("STOMP Disconnected")}}),[]),useEffect((function(){t!==l.current&&(u.current&&(u.current.unsubscribe(),console.log("Unsubscribed from ".concat(l.current))),t&&a(t))}),[t]),useEffect((function(){var e;if(o&&null!==(e=i.current)&&void 0!==e&&e.connected){var n=o.destination,t=o.body,c=o.headers,s=void 0===c?{}:c;i.current.publish({destination:n,body:JSON.stringify(t),headers:s}),r({send:null})}}),[o]);var a=function(e){var n;null!==(n=i.current)&&void 0!==n&&n.connected&&(u.current=i.current.subscribe(e,(function(e){return d(e)})),l.current=e,console.log("Subscribed to ".concat(e)))},d=function(e){try{var n=JSON.parse(e.body);r({message:n})}catch(e){console.error("Message parsing error:",e),r({message:null})}};return s().createElement("div",null)};l.propTypes={url:u().string,subscribe:u().string,message:u().object,send:u().object,id:u().string,setProps:u().func};const a=l;window.stompws=o})();
//# sourceMappingURL=stompws.min.js.map